<!doctype html>
<html lang="gu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ice Cream Stall</title>
  <link rel="manifest" href="./manifest.webmanifest" />
  <link rel="icon" href="./icons/icon-192.png" />
  <link rel="apple-touch-icon" href="./icons/icon-192.png" />
  <meta name="theme-color" content="#0ea5e9" />
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">ЁЯНж Ice Cream</div>
    <div class="top-actions">
      <span id="currentShiftBadge" class="badge">рк╢рк┐рклрлНркЯ?</span>
      <button id="syncBtn" class="btn small">рк╕рк┐ркВркХ</button>
    </div>
  </header>

  <nav class="tabs">
    <button class="tab active" data-target="#home">рк╣рлЛрко</button>
    <button class="tab" data-target="#products">ркЙркдрлНрккрк╛ркжркирлЛ</button>
    <button class="tab" data-target="#shift">рк╢рк┐рклрлНркЯ</button>
    <button class="tab" data-target="#sales">ркХрлБрк▓ рк╡рлЗркЪрк╛ркг</button>
    <button class="tab" data-target="#remarks">ркЯрк┐рккрлНрккркгрлАркУ</button>
  </nav>

  <main>
    <!-- HOME -->
    <section id="home" class="page active">
      <div class="section-head">
        <div class="section-title">ркмркзрк╛ ркЖркЗрк╕рлНркХрлНрк░рлАрко</div>
        <div id="deviceNameView" class="muted"></div>
      </div>

      <div id="productList" class="grid"></div>

      <div class="basket">
        <div id="basketSummary" class="muted">ркХрлЛркИ рк╡рк╕рлНркдрлБ рккрк╕ркВркж ркиркерлА</div>
        <button id="saveOrderBtn" class="btn primary">ркУрк░рлНркбрк░ рк╕рлЗрк╡ ркХрк░рлЛ</button>
      </div>
    </section>

    <!-- PRODUCTS (Owner only) -->
    <section id="products" class="page">
      <div class="section-head">
        <div class="section-title">ркЙркдрлНрккрк╛ркжркирлЛ (ркорк╛рк▓рк┐ркХ)</div>
        <div class="muted">рккрк╛рк╕рк╡рк░рлНркб ркЬрк░рлВрк░рлА</div>
      </div>

      <div class="row gap">
        <button id="unlockProductsBtn" class="btn">рккрлЗркЬ ркЕркирк▓рлЛркХ ркХрк░рлЛ</button>
        <button id="addProductBtn" class="btn" disabled>ркирк╡рлЛ рккрлНрк░рлЛркбркХрлНркЯ ркЙркорлЗрк░рлЛ</button>
        <button id="deviceNameBtn" class="btn" disabled>ркбрк┐рк╡рк╛ркЗрк╕ ркирк╛рко</button>
      </div>

      <div class="muted" style="margin-top: .5rem;">ркдркорк╛рко ркЙркдрлНрккрк╛ркжрки ркирлАркЪрлЗ ркжрк░рлНрк╢рк╛рк╡рлНркпрк╛ ркЫрлЗ</div>
      <div id="adminProductList" class="list"></div>
    </section>

    <!-- SHIFT -->
    <section id="shift" class="page">
      <div class="section-head">
        <div class="section-title">рк╢рк┐рклрлНркЯ рккрк╕ркВркж ркХрк░рлЛ</div>
      </div>
      <div class="row gap">
        <button class="btn shiftBtn" data-shift="A">A (10:00тАУ15:00)</button>
        <button class="btn shiftBtn" data-shift="B">B (15:00тАУ20:00)</button>
        <button class="btn shiftBtn" data-shift="C">C (20:00тАУ01:00)</button>
      </div>
      <div id="shiftInfo" class="muted" style="margin-top:.75rem;"></div>
    </section>

    <!-- SALES -->
    <section id="sales" class="page">
      <div class="section-head">
        <div class="section-title">ркХрлБрк▓ рк╡рлЗркЪрк╛ркг</div>
        <div class="row gap">
          <input type="date" id="filterFrom" />
          <input type="date" id="filterTo" />
          <select id="filterShift">
            <option value="">ркмркзрлБркВ</option>
            <option value="A">A</option>
            <option value="B">B</option>
            <option value="C">C</option>
          </select>
          <button id="applyFiltersBtn" class="btn small">рклрк┐рк▓рлНркЯрк░</button>
        </div>
      </div>

      <div class="row wrap gap stats">
        <div class="stat"><div class="k">тВ╣<span id="sumTotal">0</span></div><div class="t">ркХрлБрк▓ рк░ркХрко</div></div>
        <div class="stat"><div class="k"><span id="countOrders">0</span></div><div class="t">ркУрк░рлНркбрк░</div></div>
        <div class="stat"><div class="k"><span id="pendingSync">0</span></div><div class="t">рккрлЗркирлНркбрк┐ркВркЧ рк╕рк┐ркВркХ</div></div>
      </div>

      <canvas id="salesChart" width="600" height="220" class="card"></canvas>

      <table class="table" id="salesTable">
        <thead>
          <tr>
            <th>рк╕ркоркп</th>
            <th>ркбрк┐рк╡рк╛ркЗрк╕</th>
            <th>рк╢рк┐рклрлНркЯ</th>
            <th>рк╡рк╕рлНркдрлБркУ</th>
            <th>ркХрлБрк▓</th>
            <th>рк╕рк┐ркВркХ</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- REMARKS -->
    <section id="remarks" class="page">
      <div class="section-head">
        <div class="section-title">ркЯрк┐рккрлНрккркгрлАркУ</div>
      </div>

      <form id="remarkForm" class="card form">
        <div class="row gap">
          <input id="remarkName" placeholder="Name (EN)" />
          <select id="remarkShift">
            <option value="A">A</option>
            <option value="B">B</option>
            <option value="C">C</option>
          </select>
        </div>
        <textarea id="remarkText" placeholder="Remark (EN)"></textarea>
        <div class="row right">
          <button class="btn" type="submit">рк╕рлЗрк╡</button>
        </div>
      </form>

      <div id="remarksList" class="list"></div>
    </section>
  </main>

  <!-- Simple modals -->
  <dialog id="modalAddProduct" class="modal">
    <form method="dialog" class="form">
      <h3>ркирк╡рлЛ рккрлНрк░рлЛркбркХрлНркЯ ркЙркорлЗрк░рлЛ</h3>
      <input id="p_name_en" placeholder="Product Name (EN)" required />
      <input id="p_name_gu" placeholder="Display Name (GU) - optional" />
      <input id="p_price" type="number" step="0.01" placeholder="Price" required />
      <input id="p_color" type="text" placeholder="#RRGGBB" />
      <label>Photo <input id="p_photo" type="file" accept="image/*" /></label>
      <menu>
        <button value="cancel" class="btn">рк░ркжрлНркж</button>
        <button id="addProductSave" value="default" class="btn primary">рк╕рлЗрк╡</button>
      </menu>
    </form>
  </dialog>

  <dialog id="modalDeviceName" class="modal">
    <form method="dialog" class="form">
      <h3>ркбрк┐рк╡рк╛ркЗрк╕ ркирк╛рко</h3>
      <input id="deviceNameInput" placeholder="e.g. Stall-1" required />
      <menu>
        <button value="cancel" class="btn">рк░ркжрлНркж</button>
        <button id="deviceNameSave" value="default" class="btn primary">рк╕рлЗрк╡</button>
      </menu>
    </form>
  </dialog>

  <dialog id="modalUnlock" class="modal">
    <form method="dialog" class="form">
      <h3>рккрк╛рк╕рк╡рк░рлНркб</h3>
      <input id="unlockPwd" type="password" placeholder="Ashish@987" />
      <menu>
        <button value="cancel" class="btn">рк░ркжрлНркж</button>
        <button id="unlockDo" value="default" class="btn primary">Unlock</button>
      </menu>
    </form>
  </dialog>

  <script src="./app.js"></script>
</body>
</html>